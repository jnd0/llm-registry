{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jaume/Documents/personal/llm-registry/src/components/dashboard/radar-chart.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Legend,\n  PolarAngleAxis,\n  PolarGrid,\n  PolarRadiusAxis,\n  Radar,\n  RadarChart,\n  ResponsiveContainer,\n  Tooltip,\n} from \"recharts\";\nimport { useMemo } from \"react\";\nimport { Benchmark, Model } from \"@/types\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { cn } from \"@/lib/utils\";\nimport { normalizeScore } from \"@/lib/stats\";\nimport { domainDefinitions, getBenchmarkIdsForDomain } from \"@/lib/domains\";\n\ninterface RadarComparisonProps {\n  models: Model[];\n  benchmarks: Benchmark[];\n  className?: string;\n}\n\nconst COLORS = [\n  \"var(--chart-1)\",\n  \"var(--chart-2)\",\n  \"var(--chart-3)\",\n  \"var(--chart-4)\",\n  \"var(--chart-5)\",\n];\n\ninterface RadarTooltipEntry {\n  color?: string;\n  name?: string;\n  value?: number | null;\n}\n\ninterface RadarTooltipProps {\n  active?: boolean;\n  payload?: RadarTooltipEntry[];\n  label?: string;\n}\n\nconst CustomTooltip = ({ active, payload, label }: RadarTooltipProps) => {\n  if (active && payload && payload.length) {\n    return (\n      <div className=\"min-w-[200px] rounded-lg border border-border bg-popover p-4 text-popover-foreground shadow-lg\">\n        <p className=\"mb-3 border-b border-border pb-2 font-display text-sm font-bold tracking-tight\">\n          {label}\n        </p>\n        {payload.map((entry, index) => (\n          <div key={index} className=\"mb-2 flex items-center justify-between gap-4 last:mb-0\">\n            <div className=\"flex items-center gap-2\">\n              <div\n                className=\"h-2 w-2 rounded-full\"\n                style={{ backgroundColor: entry.color }}\n              />\n              <span className=\"font-mono text-xs tracking-[0.08em] text-muted-foreground\">\n                {entry.name}\n              </span>\n            </div>\n              <span className=\"font-mono text-sm font-bold tabular-nums text-foreground\">\n              {typeof entry.value === \"number\" ? entry.value.toFixed(1) : \"N/A\"}\n              </span>\n            </div>\n          ))}\n      </div>\n    );\n  }\n  return null;\n};\n\nexport function RadarComparison({ models, benchmarks, className }: RadarComparisonProps) {\n  const benchmarkById = useMemo(\n    () => new Map(benchmarks.map((b) => [b.id, b])),\n    [benchmarks]\n  );\n\n  const data = useMemo(() => {\n    return domainDefinitions\n      .map((domain) => {\n      const domainBenchmarkIds = getBenchmarkIdsForDomain(domain.id).filter((benchmarkId) => benchmarkById.has(benchmarkId));\n      if (domainBenchmarkIds.length === 0) return null;\n\n      const point: Record<string, string | number | null> = { \n        subject: domain.label, \n        fullMark: 100 \n      };\n      let hasAnyScore = false;\n\n      models.forEach((model) => {\n        const normalizedScores: number[] = [];\n        \n        for (const benchmarkId of domainBenchmarkIds) {\n          const score = model.scores[benchmarkId]?.score;\n          if (score !== null && score !== undefined) {\n            const benchmark = benchmarkById.get(benchmarkId);\n            if (benchmark) {\n              normalizedScores.push(normalizeScore(score, benchmark));\n            }\n          }\n        }\n\n        if (normalizedScores.length === 0) {\n          point[model.id] = null;\n          return;\n        }\n\n        const average = normalizedScores.reduce((acc, score) => acc + score, 0) / normalizedScores.length;\n        hasAnyScore = true;\n        point[model.id] = Number(average.toFixed(1));\n      });\n\n      if (!hasAnyScore) return null;\n      return point;\n    })\n      .filter((point): point is Record<string, string | number | null> => point !== null);\n  }, [models, benchmarkById]);\n\n  const chartData = useMemo(() => {\n    if (data.length >= 3) return data;\n\n    const padCount = 3 - data.length;\n    const paddedAxes = Array.from({ length: padCount }, (_, index) => {\n      const point: Record<string, string | number | null> = {\n        subject: `No Shared Data ${index + 1}`,\n        fullMark: 100,\n      };\n      models.forEach((model) => {\n        point[model.id] = 0;\n      });\n      return point;\n    });\n\n    return [...data, ...paddedAxes];\n  }, [data, models]);\n\n  if (models.length === 0) return null;\n\n  return (\n    <Card className={cn(\"surface-card group relative overflow-hidden\", className)}>\n      <CardHeader className=\"relative z-10 space-y-1 border-b border-border bg-card/70 pb-4\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <CardTitle className=\"font-display text-lg tracking-tight text-foreground\">\n              Capability Profile\n            </CardTitle>\n            <CardDescription className=\"mt-1 text-xs font-mono tracking-[0.12em] text-muted-foreground\">\n              {data.length > 0\n                ? `Performance Across ${data.length} Capability ${data.length === 1 ? \"Domain\" : \"Domains\"}`\n                : \"No comparable domain data in current scope\"}\n            </CardDescription>\n          </div>\n          <div className=\"h-2 w-2 rounded-full bg-primary\" />\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"relative z-10 h-[450px] pb-4 pt-8\">\n        {data.length === 0 ? (\n          <div className=\"flex h-full items-center justify-center px-8 text-center font-mono text-[10px] font-bold uppercase tracking-[0.14em] text-muted-foreground/50\">\n            Add models with overlapping benchmark coverage to render the capability profile\n          </div>\n        ) : (\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <RadarChart cx=\"50%\" cy=\"50%\" outerRadius=\"70%\" data={chartData}>\n              <PolarGrid stroke=\"var(--border)\" strokeDasharray=\"3 3\" />\n              <PolarAngleAxis\n                dataKey=\"subject\"\n                tick={{ fill: \"var(--muted-foreground)\", fontSize: 10, fontFamily: \"var(--font-geist-mono)\", fontWeight: 500 }}\n              />\n              <PolarRadiusAxis angle={30} domain={[0, 100]} tick={false} axisLine={false} />\n              <Tooltip content={<CustomTooltip />} cursor={{ stroke: \"var(--primary)\", strokeWidth: 1, strokeDasharray: \"4 4\" }} />\n\n              {models.map((model, index) => (\n                <Radar\n                  key={model.id}\n                  name={model.name}\n                  dataKey={model.id}\n                  stroke={COLORS[index % COLORS.length]}\n                  strokeWidth={2.5}\n                  fill={COLORS[index % COLORS.length]}\n                  fillOpacity={0.14}\n                  dot={{ r: 0, fill: COLORS[index % COLORS.length], strokeWidth: 0 }}\n                  activeDot={{ r: 6, strokeWidth: 2, stroke: \"var(--card)\", fill: COLORS[index % COLORS.length] }}\n                  className=\"transition-opacity duration-300 hover:opacity-100\"\n                />\n              ))}\n              <Legend\n                wrapperStyle={{\n                  fontFamily: \"var(--font-geist-mono)\",\n                  fontSize: \"11px\",\n                  paddingTop: \"24px\",\n                  color: \"var(--muted-foreground)\",\n                }}\n                iconType=\"circle\"\n                formatter={(value) => <span className=\"text-muted-foreground font-medium ml-1\">{value}</span>}\n              />\n            </RadarChart>\n          </ResponsiveContainer>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}